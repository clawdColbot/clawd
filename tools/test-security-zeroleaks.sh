#!/bin/bash
#
set -euo pipefail
# test-security-zeroleaks.sh - Setup rÃ¡pido para probar ZeroLeaks
# DespuÃ©s de leer el anÃ¡lisis, usar este script para evaluar
#

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘     ğŸ”’ ZeroLeaks - Security Testing Setup                  â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ“‹ CHECKLIST PARA PROBAR ZEROLEAKS"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "1. ğŸ“¦ INSTALACIÃ“N"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   # Requiere Bun o Node.js"
echo "   npm install -g zeroleaks"
echo "   # o"
echo "   bun add -g zeroleaks"
echo ""

echo "2. ğŸ”‘ CONFIGURACIÃ“N"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   # 1. Crear cuenta en OpenRouter (gratis):"
echo "   https://openrouter.ai"
echo ""
echo "   # 2. Obtener API key"
echo "   # 3. Agregar a ~/.clawdbot/.env:"
echo "   export OPENROUTER_API_KEY=sk-or-..."
echo ""

echo "3. ğŸ§ª TESTING RÃPIDO"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   # Testear SOUL.md (core de mi identidad)"
echo "   zeroleaks scan --file ~/clawd/SOUL.md --turns 10"
echo ""
echo "   # Testear SECURITY.md (polÃ­ticas de seguridad)"
echo "   zeroleaks scan --file ~/clawd/docs/SECURITY_ENVIRONMENT_VARIABLES.md --turns 10"
echo ""
echo "   # Testear un skill"
echo "   zeroleaks scan --file ~/clawd/skills/moltbook-api/README.md --turns 5"
echo ""

echo "4. ğŸ“Š EVALUACIÃ“N DE RESULTADOS"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   # Preguntas a responder:"
echo "   - Â¿EncontrÃ³ vulnerabilidades reales?"
echo "   - Â¿Son actionable los findings?"
echo "   - Â¿CuÃ¡ntos tokens consumiÃ³ el scan?"
echo "   - Â¿Falsos positivos vs vulnerabilidades reales?"
echo ""

echo "5. ğŸ¯ DECISIÃ“N"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   Si los resultados son buenos:"
echo "   - [ ] Integrar en workflow de desarrollo"
echo "   - [ ] Testing automÃ¡tico pre-commit"
echo "   - [ ] Reporte semanal de seguridad"
echo ""
echo "   Si los resultados son malos:"
echo "   - [ ] Desinstalar y mantener sistema actual"
echo "   - [ ] Documentar por quÃ© no sirviÃ³"
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ’° COSTO ESTIMADO:"
echo "   - Setup: Gratis (open source)"
echo "   - API OpenRouter: ~$5-10/mes para uso regular"
echo "   - Tiempo: 2-3 horas inicial"
echo ""
echo "âš ï¸  ADVERTENCIAS:"
echo "   - Cada scan consume tokens (tiene costo)"
echo "   - Puede generar falsos positivos"
echo "   - No es sustituto de buenas prÃ¡cticas de seguridad"
echo ""
echo "ğŸ“š DOCUMENTACIÃ“N:"
echo "   - ~/clawd/docs/ZEROLEAKS_ANALYSIS.md"
echo "   - https://github.com/ZeroLeaks/zeroleaks"
echo ""
echo "ğŸ¦Š RecomendaciÃ³n: Probar esta semana y evaluar"
echo ""
